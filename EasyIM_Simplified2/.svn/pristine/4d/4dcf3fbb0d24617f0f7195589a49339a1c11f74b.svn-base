//
//  FriDetailViewController.m
//  EasyIM
//
//  Created by 魏冰杰 on 2019/8/27.
//  Copyright © 2019年 Looker. All rights reserved.
//

#import "FriDetailViewController.h"
#import "EditFriendRemarkController.h"


@interface FriDetailViewController ()
@property (weak, nonatomic) IBOutlet UIImageView *imageV;
@property (weak, nonatomic) IBOutlet UILabel *nickLable;
@property (weak, nonatomic) IBOutlet UILabel *desLable;
@property (weak, nonatomic) IBOutlet UIButton *sendBtn;

@end

@implementation FriDetailViewController

- (void)viewDidLoad {
    [super viewDidLoad];
    [self initView];
}

- (void)initView {
    [self addBackBtn];
    self.navgationTitle = @"详细资料";
    [self.view setBackgroundColor:[UIColor colorWithRed:240.0/255 green:240.0/255 blue:240.0/255 alpha:1]];
    [self.sendBtn setLayerBorderWidth:0 borderColor:nil cornerRadius:5];
    [self.imageV setLayerBorderWidth:0 borderColor:nil cornerRadius:3];
    [self.imageV sd_setImageWithURL:[NSURL URLWithString:_Nmodel.fromPhoto] placeholderImage:[UIImage imageNamed:@"setting_default_icon"]];
    self.nickLable.text = _Nmodel.fromNick.length ? _Nmodel.fromNick: _Nmodel.fromName;
    self.desLable.text = [NSString stringWithFormat:@"账号:%@",_Nmodel.fromName];
    
}

// 设置备注
- (IBAction)setRemarkEvent:(id)sender {
    EditFriendRemarkController *vc = [[EditFriendRemarkController alloc]init];
    [self.navigationController pushViewController:vc animated:YES];
}

//发送信息
- (IBAction)sendMsgEvent:(id)sender {
    ContactsModel *model = [[ContactsModel alloc] init];
    model.photoUrl = _Nmodel.fromPhoto;
    model.userId = _Nmodel.fromID;//self.userId;
    model.cmd = @"sendMsg";
    model.userName = _Nmodel.fromNick.length ? _Nmodel.fromNick: _Nmodel.fromName;
    
    [[NSNotificationCenter defaultCenter] postNotificationName:CHAT_PUSHVIEWCONTROLLER object:model];
}



@end
